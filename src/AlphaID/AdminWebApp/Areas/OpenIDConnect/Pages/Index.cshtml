@page
@model IndexModel
@inject ConfigurationDbContext DbContext
@inject PersistedGrantDbContext PersistedGrantDbContext
@{
    ViewBag.Title = L["OAuth/OIDC"];
}

@section PageHeader{
    <h1>@L["Overview"]</h1>
}


<div class="row">
    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">@L["Clients"]</div>
                </div>
                <div class="h1 mb-3">@DbContext.Clients.Count()</div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">@L["Scopes"]</div>
                </div>
                <div class="d-flex align-items-baseline">
                    <div class="h1 mb-0 me-2">@DbContext.ApiScopes.Count()</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">@L["API Resources"]</div>
                </div>
                <div class="d-flex align-items-baseline">
                    <div class="h1 mb-3 me-2">@DbContext.ApiResources.Count()</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">@L["ID Providers"]</div>
                </div>
                <div class="d-flex align-items-baseline">
                    <div class="h1 mb-3 me-2">@DbContext.IdentityProviders.Count()</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">@L["Active Sessions"]</div>
                </div>
                <div class="h1 mb-3">
                    <a asp-page="/ActiveSessions">@PersistedGrantDbContext.ServerSideSessions.Count()</a>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">@L["Keys"]</div>
                </div>
                <div class="h1 mb-3">@PersistedGrantDbContext.Keys.Count()</div>
            </div>
        </div>
    </div>
</div>
