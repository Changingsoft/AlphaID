@page
@inject IOptions<ProductInfo> Product
@model IndexModel
@{
    ViewBag.Title = L["Account"];
}

<h2>@L["Account"]</h2>

<p>@(SL["User name"]) : @Model.Person.UserName <a asp-page="ChangeUserName" class="btn">@L["Change your user name"]</a></p>
<p>@(SL["Phone number"]) : @Model.Person.PhoneNumber <a asp-page="Mobile" class="btn">@L["Change your phone number"]</a></p>
<p>@(SL["Email"]) : @Model.Person.Email <a asp-page="Email" class="btn">@L["Change your email"]</a></p>


<h3>@L["Personal data"]</h3>
<a asp-page="PersonalData" class="btn">@L["Manage personal data"]</a>

@if (Product.Value.Feature.DirectoryAccountManagement)
{
    <h3>@L["Managed directory accounts"]</h3>
    <table class="table">
        <thead>
        <tr>
            <th>@L["Directory service"]</th>
            <th>@L["Object Id"]</th>
        </tr>
        </thead>
        <tbody>
        @if (Model.DirectoryAccounts.Count() != 0)
        {
            foreach (var account in Model.DirectoryAccounts)
            {
                <tr>
                    <td>@account.DirectoryServiceDescriptor.Name</td>
                    <td>@account.ObjectId</td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="2">@L["Directory account not found."]</td>
            </tr>
        }
        </tbody>
    </table>
}